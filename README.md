# 강의용 실습자료

> 실습용 서버는 향후 2주간 추가 운용합니다.

## API 상세 설명

### 📌 User (회원 / 프로필)
* **User 생성 가능**
  * POST `/api/users`
  * 이메일과 패스워드, 유저 닉네임을 입력해야한다.
  * 이메일 인증은 생략한다.
  * 생성 여부를 리턴해야한다.
* **User 조회 가능**
  * GET `/api/users`
  * 다른 사람의 데이터도 조회할 수 있어야한다.
  * 유저 아이디, 유저 이메일, 유저 닉네임을 조회할 수 있어야한다.
* **User 수정 가능**
  * PATCH `/api/user/{MY_USER_ID}`
  * 자기 자신의 프로필만 수정 가능
  * 유저 닉네임을 수정할 수 있어야한다.
* **User 삭제 가능**
  * DELETE `/api/users/me`
  * 자기 자신의 데이터만 삭제할 수 있어야한다.
  * 본인이 작성한 post와 comment는 같이 제거되어야한다.

### 📌  로그인
- **User 로그인 가능**
  - POST `api/auth/login`
  - 가입 당시 사용한 이메일과 패스워드를 입력해서 로그인할 수 있어야한다.
    - 유저아이디, 액세스토큰을 리턴해야한다.
  - 이메일을 잘못 입력한 경우, 존재하지 않는 이메일이라는 것을 알 수 있는 내용을 리턴해야한다.
  - 비밀번호를 잘못 입력한 경우, 비밀번호가 다르다라는 것을 알 수 있는 내용을 리턴해야한다.

⸻

### 📌 Post (게시글)
* **Post 생성 가능**
  * POST `/api/posts`
  * 로그인한 사용자만 생성 가능
  * 액세스 토큰을 헤더에 넣어 request를 실행한다.
  * 생성 시에 제목과 본문 내용을 입력할 수 있어야한다.
    * 제목과 본문은 각각 5자 이상 입력해야한다.
  * 생성이 완료되면 포스트 아이디, 제목, 본문, 작성한 유저 아이디를 리턴해야한다.
* **Post 조회 가능**
  * GET `/api/posts`
  * GET `/api/posts/{POST_ID}`
  * 누구나 모든 게시글 조회 가능 (공개 읽기)
  * 포스트를 단 하나만 조회할 수 도 있다.
    * 포스트를 단 하나만 조회할 때는 포스트 아이디, 포스트를 작성한 유저 아이디, 제목, 본문, 코멘트 갯수, 코멘트 내용들을 알 수 있어야한다.
  * 포스트를 여러개 조회할 때는 포스트 아이디, 포스트를 작성한 유저 아이디, 제목, 코멘트 갯수 를 알 수 있어야한다.
* **Post 수정 가능**
  * PATCH `/api/posts/{POST_ID}`
  * 작성자 본인만 수정 가능
    * 제목과 본문을 수정할 수 있어야한다.
    * 수정 시에도 제목과 본문은 각각 5자 이상 입력해야한다.
  * 작성자가 아닌 유저가 수정하려고 하면 수정할 수 없다는 내용을 알 수 있는 값이 리턴되어야한다.
* **Post 삭제 가능**
  * DELETE `/api/posts/{POST_ID}`
  * 작성자 본인만 삭제 가능
    * 작성자가 아닌 유저가 삭제하려고 하면 삭제할 수 없다는 내용을 알 수 있는 값이 리턴되어야한다.
  * Post를 삭제하면 Post와 연결된 comment들이 자동으로 삭제되어야한다.

⸻

### 📌 Comment (댓글)
* **Comment 생성 가능**
  * POST `/api/comments`
  * 로그인한 사용자만 생성 가능
  * comment 생성 시에는 포스트의 아이디, 코멘트 내용을 입력해야한다.
    * 생성 완료시에는 코멘트 아이디, 코멘트 작성자 유저 아이디, 코멘트 내용을 리턴해야한다.
    * comment 생성 시에는 3자 이상 100자 이하 텍스트만 가능해야한다.
* **Comment 조회 가능**
  * GET `/api/comments?post_id={POST_ID}`
  * 누구나 모든 댓글 조회 가능 (공개 읽기)
  * 특정 포스트의 comment 조회시에는 한 번에 여러 comment를 조회할 수 있다.
    * 포스트 아이디, 코멘트 아이디, 코멘트를 작성한 유저 아이디, 코멘트 내용을 리턴해야한다.
* **Comment 수정 가능**
  * PATCH `/api/comments/{COMMENT_ID}`
  * 작성자 본인만 수정 가능
    * 수정할 때도 3자 이상 100자 이하 텍스트만 가능해야한다.
  * 작성자가 아닌 사람이 수정하려고 하면 수정할 수 없다는 내용을 알 수 있는 값을 리턴해야한다.
* **Comment 삭제 가능**
  * DELETE `/api/comments/{COMMENT_ID}`
  * 작성자 본인만 삭제 가능
    * 작성자가 아닌 사람이 삭제하려고 하면 삭제할 수 없다는 내용을 알 수 있는 값을 리턴해야한다.
